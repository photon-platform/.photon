#!/usr/bin/env bash

# sites

# alias     sites="cd ~/SITES"
alias       ppn="sites photon-platform.net"
alias illumiphi="sites illumiphi.com"
alias      port="sites port-3"
alias      jill="sites jill-moser"

alias    photon="sites photon"
alias       gbp="sites gerdemann"

alias inmotion="ssh illumiphi.com"

alias sites-conf="cd /etc/apache2/sites-available"
alias hosts="sudo vim /etc/hosts"
alias restart="sudo apache2ctl restart"

alias grav-core="wget -O _grav-core.zip https://getgrav.org/download/core/grav/1.5.3 "

# photon function
#
function sites() {

  if [ $1 ]
  then
    case $1 in
      new)
        ~/.photon/sites/new.sh "$2" "$3"
        ;;
      status)
        find . -maxdepth 1 -mindepth 1 -type d -exec sh -c '(echo {} && cd {}/user && git status -sb && echo)' \;

        ;;
      *)
        cd ~/SITES/$1/user
        ag "title" config/site.yaml
        source .photon
        git status -sb
        ;;
    esac
  else
    cd ~/SITES
    ls
  fi
}
